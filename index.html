<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Movie Showcase</title>

  <!-- Link to CSS stylesheet (placeholder) -->
  <!-- <link rel="stylesheet" href="styles.css"> -->

  <!-- Link to Movie and MovieCollection classes -->
  <script src="Movie.js"></script>
  <script src="MovieCollection.js"></script>

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 20px;
    }
    nav {
      margin-bottom: 20px;
    }
    .section {
      margin-bottom: 40px;
    }
    .section h2 {
      margin-bottom: 10px;
    }
    .movie-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
    }
    .movie-card {
      width: 150px;
      text-align: center;
    }
    .movie-card img {
      width: 100%;
      height: auto;
      border-radius: 8px;
    }
  </style>
</head>
<body>

  <!-- Navigation -->
  <nav>
    <a href="secondpage.html">Go to Second Page</a>
  </nav>

  <!-- Movie Sections -->
  <div class="section" id="foryou">
    <h2>For You</h2>
    <div class="movie-grid" id="foryou-grid"></div>
  </div>

  <div class="section" id="crime">
    <h2>Crime</h2>
    <div class="movie-grid" id="crime-grid"></div>
  </div>

  <div class="section" id="comedy">
    <h2>Comedy</h2>
    <div class="movie-grid" id="comedy-grid"></div>
  </div>

  <!-- Main Script -->
  <script>
    const collection = new MovieCollection();

    // Put your actual published Google Sheets CSV link here
    const csvUrl = 'https://docs.google.com/spreadsheets/d/e/your_sheet_id/pub?output=csv';

    collection.loadFromGoogleSheetCSV(csvUrl).then(() => {
      const forYou = document.getElementById('foryou-grid');
      const crime = document.getElementById('crime-grid');
      const comedy = document.getElementById('comedy-grid');

      collection.movies.forEach(movie => {
        const card = document.createElement('div');
        card.classList.add('movie-card');
        card.innerHTML = `
          <img src="${movie.posterUrl}" alt="${movie.title} poster">
          <p>${movie.title}</p>
        `;

        const genreLower = movie.genres.toLowerCase();
        if (genreLower.includes('crime')) {
          crime.appendChild(card);
        } else if (genreLower.includes('comedy')) {
          comedy.appendChild(card);
        } else {
          forYou.appendChild(card);
        }
      });
    });
  </script>
</body>
</html>
